{% extends "base.html" %}
{% block title %}Destek Taleplerim{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="fw-bold text-primary">ðŸŽ« Destek Taleplerim</h1>
    <a href="{% url 'ticket_create' %}" class="btn btn-warning fw-bold shadow-sm">
        + Yeni Talep OluÅŸtur
    </a>
</div>

<div class="card shadow-sm">
    <div class="card-body p-0">
        
        {% if ticketlar %}
        <table class="table table-hover mb-0">
            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Konu</th>
                    <th>OluÅŸturma Tarihi</th>
                    <th>Durum</th>
                    <th>Eylem</th>
                </tr>
            </thead>
            <tbody>
                {% for t in ticketlar %}
                <tr>
                    <td>#{{ t.id }}</td>
                    <td>{{ t.get_konu_display }}</td> 
                    <td>{{ t.olusturma|date:"d.m.Y H:i" }}</td>
                    <td>
                        {% if t.durum == "ACIK" %}
                            <span class="badge bg-danger p-2">AÃ§Ä±k</span>
                        {% elif t.durum == "BEKLEMEDE" %}
                            <span class="badge bg-warning text-dark p-2">Beklemede</span>
                        {% else %}
                            <span class="badge bg-success p-2">KapalÄ±</span>
                        {% endif %}
                    </td>
                   <td>
    <a href="{% url 'ticket_detail' t.id %}" class="btn btn-sm btn-outline-dark">Detay GÃ¶r</a>
</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="alert alert-info text-center m-4">HenÃ¼z bir destek talebi oluÅŸturmamÄ±ÅŸsÄ±nÄ±z.</p>
        {% endif %}

    </div>
</div>

{% endblock %}